<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta http-equiv="pragma" content="no-cache"/>
    <meta http-equiv="cache-control" content="no-cache"/>
    <meta http-equiv="Expires" content="0"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Insert title here</title>
    <script type="text/javascript">
        function ajaxRequest() {
// 				1、我们首先要创建XMLHttpRequest
            var xhr = new XMLHttpRequest();
// 				2、调用open方法设置请求参数
            xhr.open("get", "http://localhost:8080/json_ajax/AjaxServlet?action=javaScriptAjax", true);
// 				4、在send方法前绑定onreadystatechange事件，处理请求完成后的操作。
            //var value = document.getElementsByTagName("button")[0].value;
            //alert(value);//111

            xhr.onreadystatechange = function () {
                if (xhr.readyState == 4 && xhr.status == 200) {

                    var parse = JSON.parse(xhr.responseText);

                    for (let i = 0; i < parse.length; i++) {
                        var str = "姓名：" + parse[i].name + " , 年龄：" + parse[i].age;
                        document.getElementById("div01").append(str + "\r\n");
                    }
                }
            }
// 				3、调用send方法发送请求
            xhr.send();
        }
    </script>
</head>
<body>
<button onclick="ajaxRequest()" value="111">ajax request</button>
<div id="div01" style="white-space:pre">
</div>
</body>
</html>